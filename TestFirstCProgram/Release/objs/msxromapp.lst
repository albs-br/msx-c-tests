                                      1 ;--------------------------------------------------------
                                      2 ; File Created by SDCC : free open source ANSI-C Compiler
                                      3 ; Version 4.1.0 #12072 (MINGW64)
                                      4 ;--------------------------------------------------------
                                      5 	.module msxromapp
                                      6 	.optsdcc -mz80
                                      7 	
                                      8 ;--------------------------------------------------------
                                      9 ; Public variables in this module
                                     10 ;--------------------------------------------------------
                                     11 	.globl _main
                                     12 	.globl _Wait
                                     13 	.globl _SetSpritePattern
                                     14 	.globl _PutSprite
                                     15 	.globl _SpriteReset
                                     16 	.globl _SpriteOn
                                     17 	.globl _SpriteOff
                                     18 	.globl _SpriteSmall
                                     19 	.globl _Sprite16
                                     20 	.globl _WaitKey
                                     21 	.globl _Screen
                                     22 ;--------------------------------------------------------
                                     23 ; special function registers
                                     24 ;--------------------------------------------------------
                                     25 ;--------------------------------------------------------
                                     26 ; ram data
                                     27 ;--------------------------------------------------------
                                     28 	.area _DATA
                                     29 ;--------------------------------------------------------
                                     30 ; ram data
                                     31 ;--------------------------------------------------------
                                     32 	.area _INITIALIZED
                                     33 ;--------------------------------------------------------
                                     34 ; absolute external ram data
                                     35 ;--------------------------------------------------------
                                     36 	.area _DABS (ABS)
                                     37 ;--------------------------------------------------------
                                     38 ; global & static initialisations
                                     39 ;--------------------------------------------------------
                                     40 	.area _HOME
                                     41 	.area _GSINIT
                                     42 	.area _GSFINAL
                                     43 	.area _GSINIT
                                     44 ;--------------------------------------------------------
                                     45 ; Home
                                     46 ;--------------------------------------------------------
                                     47 	.area _HOME
                                     48 	.area _HOME
                                     49 ;--------------------------------------------------------
                                     50 ; code
                                     51 ;--------------------------------------------------------
                                     52 	.area _CODE
                                     53 ;msxromapp.c:19: void Wait(int cicles)
                                     54 ;	---------------------------------
                                     55 ; Function Wait
                                     56 ; ---------------------------------
      000000                         57 _Wait::
                                     58 ;msxromapp.c:22: for (i = 0; i < cicles; i++) HALT;
      000000 01 00 00         [10]   59 	ld	bc, #0x0000
      000003                         60 00103$:
      000003 21 02 00         [10]   61 	ld	hl, #2
      000006 39               [11]   62 	add	hl, sp
      000007 79               [ 4]   63 	ld	a, c
      000008 96               [ 7]   64 	sub	a, (hl)
      000009 78               [ 4]   65 	ld	a, b
      00000A 23               [ 6]   66 	inc	hl
      00000B 9E               [ 7]   67 	sbc	a, (hl)
      00000C E2r11r00         [10]   68 	jp	PO, 00118$
      00000F EE 80            [ 7]   69 	xor	a, #0x80
      000011                         70 00118$:
      000011 F0               [11]   71 	ret	P
      000012 76               [ 4]   72 	halt	
      000013 03               [ 6]   73 	inc	bc
                                     74 ;msxromapp.c:23: return;
                                     75 ;msxromapp.c:24: }
      000014 18 ED            [12]   76 	jr	00103$
      000016                         77 _Done_Version:
      000016 4D 61 64 65 20 77 69    78 	.ascii "Made with FUSION-C 1.2 (ebsoft)"
             74 68 20 46 55 53 49
             4F 4E 2D 43 20 31 2E
             32 20 28 65 62 73 6F
             66 74 29
      000035 00                      79 	.db 0x00
      000036                         80 _point_pattern0:
      000036 FF                      81 	.db #0xff	; 255
      000037 80                      82 	.db #0x80	; 128
      000038 80                      83 	.db #0x80	; 128
      000039 80                      84 	.db #0x80	; 128
      00003A 80                      85 	.db #0x80	; 128
      00003B 80                      86 	.db #0x80	; 128
      00003C 80                      87 	.db #0x80	; 128
      00003D 80                      88 	.db #0x80	; 128
      00003E                         89 _point_pattern1:
      00003E C0                      90 	.db #0xc0	; 192
      00003F C0                      91 	.db #0xc0	; 192
      000040 00                      92 	.db #0x00	; 0
      000041 00                      93 	.db #0x00	; 0
      000042 00                      94 	.db #0x00	; 0
      000043 00                      95 	.db #0x00	; 0
      000044 00                      96 	.db #0x00	; 0
      000045 FF                      97 	.db #0xff	; 255
      000046                         98 _point_pattern2:
      000046 FF                      99 	.db #0xff	; 255
      000047 01                     100 	.db #0x01	; 1
      000048 01                     101 	.db #0x01	; 1
      000049 01                     102 	.db #0x01	; 1
      00004A 01                     103 	.db #0x01	; 1
      00004B 01                     104 	.db #0x01	; 1
      00004C 01                     105 	.db #0x01	; 1
      00004D 01                     106 	.db #0x01	; 1
      00004E                        107 _point_pattern3:
      00004E 01                     108 	.db #0x01	; 1
      00004F 01                     109 	.db #0x01	; 1
      000050 01                     110 	.db #0x01	; 1
      000051 01                     111 	.db #0x01	; 1
      000052 01                     112 	.db #0x01	; 1
      000053 01                     113 	.db #0x01	; 1
      000054 01                     114 	.db #0x01	; 1
      000055 FF                     115 	.db #0xff	; 255
      000056                        116 _point_pattern4:
      000056 00                     117 	.db #0x00	; 0
      000057 10                     118 	.db #0x10	; 16
      000058 10                     119 	.db #0x10	; 16
      000059 10                     120 	.db #0x10	; 16
      00005A 10                     121 	.db #0x10	; 16
      00005B 15                     122 	.db #0x15	; 21
      00005C 55                     123 	.db #0x55	; 85	'U'
      00005D 5F                     124 	.db #0x5f	; 95
      00005E                        125 _point_pattern5:
      00005E A0                     126 	.db #0xa0	; 160
      00005F A0                     127 	.db #0xa0	; 160
      000060 80                     128 	.db #0x80	; 128
      000061 40                     129 	.db #0x40	; 64
      000062 20                     130 	.db #0x20	; 32
      000063 20                     131 	.db #0x20	; 32
      000064 20                     132 	.db #0x20	; 32
      000065 3F                     133 	.db #0x3f	; 63
      000066                        134 _point_pattern6:
      000066 00                     135 	.db #0x00	; 0
      000067 00                     136 	.db #0x00	; 0
      000068 00                     137 	.db #0x00	; 0
      000069 00                     138 	.db #0x00	; 0
      00006A 80                     139 	.db #0x80	; 128
      00006B C0                     140 	.db #0xc0	; 192
      00006C A0                     141 	.db #0xa0	; 160
      00006D 20                     142 	.db #0x20	; 32
      00006E                        143 _point_pattern7:
      00006E 20                     144 	.db #0x20	; 32
      00006F 60                     145 	.db #0x60	; 96
      000070 40                     146 	.db #0x40	; 64
      000071 40                     147 	.db #0x40	; 64
      000072 80                     148 	.db #0x80	; 128
      000073 80                     149 	.db #0x80	; 128
      000074 80                     150 	.db #0x80	; 128
      000075 80                     151 	.db #0x80	; 128
                                    152 ;msxromapp.c:26: void main(void)
                                    153 ;	---------------------------------
                                    154 ; Function main
                                    155 ; ---------------------------------
      000076                        156 _main::
                                    157 ;msxromapp.c:30: Screen(1);
      000076 3E 01            [ 7]  158 	ld	a, #0x01
      000078 F5               [11]  159 	push	af
      000079 33               [ 6]  160 	inc	sp
      00007A CDr00r00         [17]  161 	call	_Screen
      00007D 33               [ 6]  162 	inc	sp
                                    163 ;msxromapp.c:33: SpriteReset();
      00007E CDr00r00         [17]  164 	call	_SpriteReset
                                    165 ;msxromapp.c:34: Sprite16();
      000081 CDr00r00         [17]  166 	call	_Sprite16
                                    167 ;msxromapp.c:35: SpriteSmall();
      000084 CDr00r00         [17]  168 	call	_SpriteSmall
                                    169 ;msxromapp.c:36: SpriteOff();
      000087 CDr00r00         [17]  170 	call	_SpriteOff
                                    171 ;msxromapp.c:39: SetSpritePattern(0, point_pattern0, 8);
      00008A 3E 08            [ 7]  172 	ld	a, #0x08
      00008C F5               [11]  173 	push	af
      00008D 33               [ 6]  174 	inc	sp
      00008E 21r36r00         [10]  175 	ld	hl, #_point_pattern0
      000091 E5               [11]  176 	push	hl
      000092 AF               [ 4]  177 	xor	a, a
      000093 F5               [11]  178 	push	af
      000094 33               [ 6]  179 	inc	sp
      000095 CDr00r00         [17]  180 	call	_SetSpritePattern
      000098 F1               [10]  181 	pop	af
                                    182 ;msxromapp.c:40: SetSpritePattern(1, point_pattern1, 8);
      000099 26 08            [ 7]  183 	ld	h,#0x08
      00009B E3               [19]  184 	ex	(sp),hl
      00009C 33               [ 6]  185 	inc	sp
      00009D 21r3Er00         [10]  186 	ld	hl, #_point_pattern1
      0000A0 E5               [11]  187 	push	hl
      0000A1 3E 01            [ 7]  188 	ld	a, #0x01
      0000A3 F5               [11]  189 	push	af
      0000A4 33               [ 6]  190 	inc	sp
      0000A5 CDr00r00         [17]  191 	call	_SetSpritePattern
      0000A8 F1               [10]  192 	pop	af
                                    193 ;msxromapp.c:41: SetSpritePattern(2, point_pattern2, 8);
      0000A9 26 08            [ 7]  194 	ld	h,#0x08
      0000AB E3               [19]  195 	ex	(sp),hl
      0000AC 33               [ 6]  196 	inc	sp
      0000AD 21r46r00         [10]  197 	ld	hl, #_point_pattern2
      0000B0 E5               [11]  198 	push	hl
      0000B1 3E 02            [ 7]  199 	ld	a, #0x02
      0000B3 F5               [11]  200 	push	af
      0000B4 33               [ 6]  201 	inc	sp
      0000B5 CDr00r00         [17]  202 	call	_SetSpritePattern
      0000B8 F1               [10]  203 	pop	af
                                    204 ;msxromapp.c:42: SetSpritePattern(3, point_pattern3, 8);
      0000B9 26 08            [ 7]  205 	ld	h,#0x08
      0000BB E3               [19]  206 	ex	(sp),hl
      0000BC 33               [ 6]  207 	inc	sp
      0000BD 21r4Er00         [10]  208 	ld	hl, #_point_pattern3
      0000C0 E5               [11]  209 	push	hl
      0000C1 3E 03            [ 7]  210 	ld	a, #0x03
      0000C3 F5               [11]  211 	push	af
      0000C4 33               [ 6]  212 	inc	sp
      0000C5 CDr00r00         [17]  213 	call	_SetSpritePattern
      0000C8 F1               [10]  214 	pop	af
                                    215 ;msxromapp.c:44: SetSpritePattern(4, point_pattern4, 8);
      0000C9 26 08            [ 7]  216 	ld	h,#0x08
      0000CB E3               [19]  217 	ex	(sp),hl
      0000CC 33               [ 6]  218 	inc	sp
      0000CD 21r56r00         [10]  219 	ld	hl, #_point_pattern4
      0000D0 E5               [11]  220 	push	hl
      0000D1 3E 04            [ 7]  221 	ld	a, #0x04
      0000D3 F5               [11]  222 	push	af
      0000D4 33               [ 6]  223 	inc	sp
      0000D5 CDr00r00         [17]  224 	call	_SetSpritePattern
      0000D8 F1               [10]  225 	pop	af
                                    226 ;msxromapp.c:45: SetSpritePattern(5, point_pattern5, 8);
      0000D9 26 08            [ 7]  227 	ld	h,#0x08
      0000DB E3               [19]  228 	ex	(sp),hl
      0000DC 33               [ 6]  229 	inc	sp
      0000DD 21r5Er00         [10]  230 	ld	hl, #_point_pattern5
      0000E0 E5               [11]  231 	push	hl
      0000E1 3E 05            [ 7]  232 	ld	a, #0x05
      0000E3 F5               [11]  233 	push	af
      0000E4 33               [ 6]  234 	inc	sp
      0000E5 CDr00r00         [17]  235 	call	_SetSpritePattern
      0000E8 F1               [10]  236 	pop	af
                                    237 ;msxromapp.c:46: SetSpritePattern(6, point_pattern6, 8);
      0000E9 26 08            [ 7]  238 	ld	h,#0x08
      0000EB E3               [19]  239 	ex	(sp),hl
      0000EC 33               [ 6]  240 	inc	sp
      0000ED 21r66r00         [10]  241 	ld	hl, #_point_pattern6
      0000F0 E5               [11]  242 	push	hl
      0000F1 3E 06            [ 7]  243 	ld	a, #0x06
      0000F3 F5               [11]  244 	push	af
      0000F4 33               [ 6]  245 	inc	sp
      0000F5 CDr00r00         [17]  246 	call	_SetSpritePattern
      0000F8 F1               [10]  247 	pop	af
                                    248 ;msxromapp.c:47: SetSpritePattern(7, point_pattern7, 8);
      0000F9 26 08            [ 7]  249 	ld	h,#0x08
      0000FB E3               [19]  250 	ex	(sp),hl
      0000FC 33               [ 6]  251 	inc	sp
      0000FD 21r6Er00         [10]  252 	ld	hl, #_point_pattern7
      000100 E5               [11]  253 	push	hl
      000101 3E 07            [ 7]  254 	ld	a, #0x07
      000103 F5               [11]  255 	push	af
      000104 33               [ 6]  256 	inc	sp
      000105 CDr00r00         [17]  257 	call	_SetSpritePattern
      000108 F1               [10]  258 	pop	af
      000109 F1               [10]  259 	pop	af
                                    260 ;msxromapp.c:49: PutSprite(1, 0, 128, 96, 8);
      00010A 11 60 08         [10]  261 	ld	de, #0x0860
      00010D D5               [11]  262 	push	de
      00010E 3E 80            [ 7]  263 	ld	a, #0x80
      000110 F5               [11]  264 	push	af
      000111 33               [ 6]  265 	inc	sp
      000112 AF               [ 4]  266 	xor	a, a
      000113 57               [ 4]  267 	ld	d,a
      000114 1E 01            [ 7]  268 	ld	e,#0x01
      000116 D5               [11]  269 	push	de
      000117 CDr00r00         [17]  270 	call	_PutSprite
      00011A F1               [10]  271 	pop	af
      00011B F1               [10]  272 	pop	af
      00011C 33               [ 6]  273 	inc	sp
                                    274 ;msxromapp.c:50: PutSprite(2, 4, 128, 96, 10);
      00011D 11 60 0A         [10]  275 	ld	de, #0x0a60
      000120 D5               [11]  276 	push	de
      000121 11 04 80         [10]  277 	ld	de, #0x8004
      000124 D5               [11]  278 	push	de
      000125 3E 02            [ 7]  279 	ld	a, #0x02
      000127 F5               [11]  280 	push	af
      000128 33               [ 6]  281 	inc	sp
      000129 CDr00r00         [17]  282 	call	_PutSprite
      00012C F1               [10]  283 	pop	af
      00012D F1               [10]  284 	pop	af
      00012E 33               [ 6]  285 	inc	sp
                                    286 ;msxromapp.c:52: SpriteOn();
      00012F CDr00r00         [17]  287 	call	_SpriteOn
                                    288 ;msxromapp.c:54: for (i = 255; i > 155; --i)
      000132 01 FF 00         [10]  289 	ld	bc, #0x00ff
      000135                        290 00103$:
      000135 0B               [ 6]  291 	dec	bc
      000136 3E 9B            [ 7]  292 	ld	a, #0x9b
      000138 B9               [ 4]  293 	cp	a, c
      000139 3E 00            [ 7]  294 	ld	a, #0x00
      00013B 98               [ 4]  295 	sbc	a, b
      00013C E2r41r01         [10]  296 	jp	PO, 00117$
      00013F EE 80            [ 7]  297 	xor	a, #0x80
      000141                        298 00117$:
      000141 FAr35r01         [10]  299 	jp	M, 00103$
                                    300 ;msxromapp.c:59: WaitForKey();
      000144 CDr00r00         [17]  301 	call	_WaitKey
                                    302 ;msxromapp.c:60: Screen(0);
      000147 AF               [ 4]  303 	xor	a, a
      000148 F5               [11]  304 	push	af
      000149 33               [ 6]  305 	inc	sp
      00014A CDr00r00         [17]  306 	call	_Screen
      00014D 33               [ 6]  307 	inc	sp
                                    308 ;msxromapp.c:62: }
      00014E C9               [10]  309 	ret
                                    310 	.area _CODE
                                    311 	.area _INITIALIZER
                                    312 	.area _CABS (ABS)
